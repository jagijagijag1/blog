<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Dropbox on jagijagijag1 notes</title><link>http://jagijagijag1.github.io/blog/tags/dropbox/</link><description>Recent content in Dropbox on jagijagijag1 notes</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Sat, 02 Mar 2019 23:33:17 +0900</lastBuildDate><atom:link href="http://jagijagijag1.github.io/blog/tags/dropbox/index.xml" rel="self" type="application/rss+xml"/><item><title>サーバーレスで定期的にDropbox内のファイルをS3に転送する</title><link>http://jagijagijag1.github.io/blog/posts/2019_03_02/</link><pubDate>Sat, 02 Mar 2019 23:33:17 +0900</pubDate><guid>http://jagijagijag1.github.io/blog/posts/2019_03_02/</guid><description>つくったもの 定期実行でDropboxの特定フォルダ下ファイルをS3へ転送する機能 具体的には，CloudWatch Eventで定期起動し下記を実行するLambda関数を開発 Dropbox APIを叩いて特定フォルダ配下の全ファイルを取得 当該ファイルをダウンロードし，S3の特定バケットに保存 バケット保存が成功した場合，Dropbox側のオリジナルファイルを削除 経緯 以前S3に入ってきた画像を解析してPixelaに記録するLamba関数を開発 Garmin connectのストレス測定結果をPixela + Serverlessで草化 - qrunch.net この際，iPhoneのスクリーンショットをS3へ送る手段を下記のように構築 IFTTTでiOSのスクリーンショットをDropboxに入れ，ZapierでDropboxからS3にコピーするようにして前に作ったストレス草化Lambdaとシームレスに連携するようにした．ちょっと経由しすぎな気もするけどひとまず…
&amp;mdash; JagiJagiJagi (@jagijagijag1) November 8, 2018
しかしながら，これだけのためにZapierに課金するのも辛いので，イベント駆動を妥協して定期実行でDropbox→S3転送機能を実現してみた これにより，Zapierを経由せず，iPhoneからPixelaをシームレスに結合 環境 MacOS Mojave Go 1.11.5 Serverless Framework 1.38.0 ライブラリ選択 DropboxのGoライブラリは以下の2つを発見 GitHub - dropbox/dropbox-sdk-go-unofficial: An UNOFFICIAL Dropbox v2 API SDK for Go GitHub - tj/go-dropbox: Dropbox v2 client for Go.</description></item></channel></rss>